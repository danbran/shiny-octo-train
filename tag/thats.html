<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>shiny-python - thats</title>
        <link rel="stylesheet" href="https://danbran.github.io/shiny-octo-train/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://danbran.github.io/shiny-octo-train/">shiny-python </a></h1>
                <nav><ul>
                    <li><a href="https://danbran.github.io/shiny-octo-train/category/blog.html">blog</a></li>
                    <li><a href="https://danbran.github.io/shiny-octo-train/category/python.html">python</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://danbran.github.io/shiny-octo-train/python/code-example.html">code example</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-12-27T12:00:00+01:00">
                Published: Mi 27 Dezember 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://danbran.github.io/shiny-octo-train/author/dan.html">dan</a>
        </address>
<p>In <a href="https://danbran.github.io/shiny-octo-train/category/python.html">python</a>.</p>
<p>tags: <a href="https://danbran.github.io/shiny-octo-train/tag/thats.html">thats</a> <a href="https://danbran.github.io/shiny-octo-train/tag/awesome.html">awesome</a> </p>
</footer><!-- /.post-info --><h1>code example</h1>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
</pre></div>


<p>a textbox to explain the code</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span>
</pre></div>


<p>show function output</p>
<div class="highlight"><pre><span></span><span class="n">a_function</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>403.1622776601684
</pre></div>


<h1>pandas example</h1>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">35</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span><span class="mi">84</span><span class="p">]})</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;b^2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;b^2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">a_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">df</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>b^2</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>35</td>
      <td>35</td>
      <td>1225</td>
      <td>35.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>63</td>
      <td>98</td>
      <td>9604</td>
      <td>98.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>21</td>
      <td>119</td>
      <td>14161</td>
      <td>119.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>58</td>
      <td>177</td>
      <td>31329</td>
      <td>177.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>261</td>
      <td>68121</td>
      <td>261.0</td>
    </tr>
  </tbody>
</table>
</div>

<h2>calculate the friction coefficient using pandas</h2>
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">friction</span><span class="p">(</span><span class="n">Re</span><span class="p">):</span>
    <span class="c1"># laminar: Hagen-Poiseuille equation</span>
    <span class="k">if</span> <span class="n">Re</span> <span class="o">&lt;</span> <span class="mi">2300</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">64</span><span class="o">/</span><span class="n">Re</span>
    <span class="c1"># turbulent: Blasius equation</span>
    <span class="k">elif</span> <span class="n">Re</span> <span class="o">&gt;</span> <span class="mi">4000</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.3164</span><span class="o">*</span><span class="n">Re</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mf">0.25</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Re</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">1e03</span><span class="p">,</span><span class="mf">1e04</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
<span class="n">Re</span>
</pre></div>


<div class="highlight"><pre><span></span>array([  1000.,   1450.,   1900.,   2350.,   2800.,   3250.,   3700.,
         4150.,   4600.,   5050.,   5500.,   5950.,   6400.,   6850.,
         7300.,   7750.,   8200.,   8650.,   9100.,   9550.,  10000.])
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">Re</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Re&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;$\lambda$&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Re</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">friction</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Re</th>
      <th>$\lambda$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1000.0</td>
      <td>0.064000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1450.0</td>
      <td>0.044138</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1900.0</td>
      <td>0.033684</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2350.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2800.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Re&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">loglog</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="err">!</span><span class="p">[</span><span class="n">png</span><span class="p">]({{</span> <span class="s2">&quot;/data/output_15_1.png&quot;</span> <span class="o">|</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">danbran</span><span class="o">/</span><span class="n">danbran</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">blob</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">output_15_1</span><span class="o">.</span><span class="n">png</span> <span class="p">}})</span>
</pre></div>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://danbran.github.io/shiny-octo-train/blog/my-super-post.html" rel="bookmark"
                           title="Permalink to My super title">My super title</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-12-03T10:20:00+01:00">
                Published: So 03 Dezember 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://danbran.github.io/shiny-octo-train/author/dan.html">dan</a>
        </address>
<p>In <a href="https://danbran.github.io/shiny-octo-train/category/blog.html">blog</a>.</p>
<p>tags: <a href="https://danbran.github.io/shiny-octo-train/tag/thats.html">thats</a> <a href="https://danbran.github.io/shiny-octo-train/tag/awesome.html">awesome</a> </p>
</footer><!-- /.post-info -->                <p>Short version for index and feeds</p>
                <a class="readmore" href="https://danbran.github.io/shiny-octo-train/blog/my-super-post.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://danbran.github.io/shiny-octo-train/blog/first_post_md.html" rel="bookmark"
                           title="Permalink to My Markdown post">My Markdown post</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-12-02T10:20:00+01:00">
                Published: Sa 02 Dezember 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://danbran.github.io/shiny-octo-train/author/dan.html">dan</a>
        </address>
<p>In <a href="https://danbran.github.io/shiny-octo-train/category/blog.html">blog</a>.</p>
<p>tags: <a href="https://danbran.github.io/shiny-octo-train/tag/thats.html">thats</a> <a href="https://danbran.github.io/shiny-octo-train/tag/awesome.html">awesome</a> </p>
</footer><!-- /.post-info -->                <p>markdown</p>
                <a class="readmore" href="https://danbran.github.io/shiny-octo-train/blog/first_post_md.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="http://nafiulis.me/making-a-static-blog-with-pelican.html">How to initialize pelican</a></li>
                            <li><a href="https://gist.github.com/JosefJezek/6053301">pelican 2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>